{"name":"Authful","tagline":"API service for 2FA","body":"# Authful\r\n\r\nAuthful was written as an internal app for MongoHQ to be used with our web application.\r\nIt supports multiple accounts and could be made into a public 2FA service, although there is no frontend on it at this point. We use multiple accounts to allow for staging and testing setups that are seperate.\r\n\r\nWe are opensourcing this effort so that the community can have a 2FA solution that doesn't involve being locked in to vendor phone apps. We are accepting pull requests that add/imrove a UI for viewing and managing accounts and users as well as any bug fixes.\r\n\r\n## About\r\n\r\nAuthful is a 2fa engine.  It behaves in the truest sense of SOA, and should be used as an \r\nAPI behind the scenes of your application.  The purposes of Authful are:\r\n\r\n* Manage users for 2fa including:\r\n  * enrolling / unenrolling users with either SMS or QR codes\r\n  * validating user tokens\r\n  * reseting tokens\r\n  * managing recovery codes\r\n* Generate QR codes for (RFC 6238 - TOTP)[https://tools.ietf.org/html/rfc6238]\r\n\r\n## Requirements & Starting\r\n\r\n* Ruby 2.0.0-px\r\n* MongoDB - be sure your config/mongoid.yml file is configured correctly\r\n* Twilio Account with the following environmental variables set:\r\n  * TWILIO_SID\r\n  * TWILIO_TOKEN\r\n  * TWILIO_FROM\r\n\r\nGem installation is a simple `gem install bundler && bundle install`\r\n\r\nAfter installing the gems, you can run the application locally by running `rackup -p 4000`.\r\n\r\n## Testing the platform\r\n\r\n**Create a dummy account**\r\nFrom `bash`, run:\r\n\r\n```bash\r\nrake db:seed\r\n```\r\n\r\nYou will see output with tokens to use for auth and sample curl commands. **Note: The tokens in the snippet below will not work on your dev setup. You will need to get them from your console output.**\r\n\r\n```bash\r\nAccount Token: 5i4ximidh3d7q3o2\r\n   User Token: nsaxk2\r\n  Current OTP: 734637\r\n\r\n** Viewing QR Code **\r\nhttp://authful.dev/qr/nsaxk2.png\r\n\r\n** Enrolling a user **\r\ncurl -X POST http://authful.dev/api/users -H \"Api-Token: 5i4ximidh3d7q3o2\" -d email=<user-email> -d phone=<phone-number>\r\n\r\n** Validating Code **\r\ncurl -X GET http://authful.dev/api/users/nsaxk2/validate -H \"Api-Token: 5i4ximidh3d7q3o2\" -d token=734637\r\n\r\n** Unenrolling a user **\r\ncurl -X DELETE http://authful.dev/api/users/nsaxk2 -H \"Api-Token: 5i4ximidh3d7q3o2\"\r\n```\r\n\r\n**Enrolling a user via app**\r\n```bash\r\ncurl -X POST http://authful.dev/api/users -H \"Api-Token: <account-token>\" -d email=<user-email>\r\n```\r\n\r\n**Enrolling a user via sms**\r\n```bash\r\ncurl -X POST http://authful.dev/api/users -H \"Api-Token: <account-token>\" -d email=<user-email> -d phone=<phone-number>\r\n```\r\n\r\n**View a user**\r\n```bash\r\ncurl -X GET http://authful.dev/api/users/<user-token> -H \"Api-Token: <account-token>\"\r\n```\r\n\r\n**Requesting a code via SMS**\r\n```bash\r\ncurl -X GET http://authful.dev/api/users/<user-token>/send_sms -H \"Api-Token: <account-token>\"\r\n```\r\n\r\n**Validating Code**\r\n```bash\r\ncurl -X GET http://authful.dev/api/users/<user-token>/validate -H \"Api-Token: <account-token>\" -d token=<token generated or recieved via sms>\r\n```\r\n\r\n**Register a fallback SMS**\r\n```bash\r\ncurl -X PATCH http://authful.dev/api/users/<user-token>/fallback -H \"Api-Token: <account-token>\" -d phone=<phone number>\r\n```\r\n\r\n**Send code to a fallback SMS**\r\n```bash\r\ncurl -X GET http://authful.dev/api/users/<user-token>/fallback -H \"Api-Token: <account-token>\"\r\n```\r\n\r\n**Generate recovery codes**\r\n```bash\r\ncurl -X POST http://authful.dev/api/users/<user-token>/recovery_codes -H \"Api-Token: <account-token>\"\r\n```\r\n\r\n**View remaining recovery codes**\r\n```bash\r\ncurl -X GET http://authful.dev/api/users/<user-token>/recovery_codes -H \"Api-Token: <account-token>\"\r\n```\r\n\r\n**Validate recovery code**\r\n```bash\r\ncurl -X GET http://authful.dev/api/users/<user-token>/recovery_codes/<recovery-code> -H \"Api-Token: <account-token>\"\r\n```\r\n\r\n**Unenrolling a user**\r\n```bash\r\ncurl -X DELETE http://authful.dev/api/users/<user-token> -H \"Api-Token: <account-token>\"\r\n```\r\n\r\n## Phone Number Validation\r\n\r\nAuthful valdiates phone numbers using [Google libphonenumber](https://code.google.com/p/libphonenumber/).\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}